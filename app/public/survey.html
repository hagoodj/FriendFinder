<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Friend Finder</title>
    <!-- Latest compiled and minified CSS & JS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <script src="https://code.jquery.com/jquery.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>

    <style>
        img {
            width: 200px;
        }
    </style>

</head>

<body>

    <div class="container">
        <div class="jumbotron">
            <h1>Friend Finder</h1>
            <h3>Find a best friend</h3>
            <h4>Take the survey and find out who your new best friend is!</h4>
            <hr>
        </div>
        <div>

            <p>Name:</p>
            <input type="text" id="name" value="name"><br><br>
            <p>Link to Photo</p>
            <input type="text" id="photo" value="photo"><br><br>

            <form id="createUser" action="/action_page.php">
                <p>You can't leave the house without your hydroflask</p>
                <input type="radio" name="Question1" value="1"> Strongly Disagree<br>
                <input type="radio" name="Question1" value="2"> Disagree<br>
                <input type="radio" name="Question1" value="3"> Neutral<br>
                <input type="radio" name="Question1" value="4"> Agree<br>
                <input type="radio" name="Question1" value="5"> Strongly Agree<br><br>

                <p>Sksksksksksksksk</p>
                <input type="radio" name="Question2" value="1"> Strongly Disagree<br>
                <input type="radio" name="Question2" value="2"> Disagree<br>
                <input type="radio" name="Question2" value="3"> Neutral<br>
                <input type="radio" name="Question2" value="4"> Agree<br>
                <input type="radio" name="Question2" value="5"> Strongly Agree<br><br>

                <p>Scrunchies for days!</p>
                <input type="radio" name="Question3" value="1"> Strongly Disagree<br>
                <input type="radio" name="Question3" value="2"> Disagree<br>
                <input type="radio" name="Question3" value="3"> Neutral<br>
                <input type="radio" name="Question3" value="4"> Agree<br>
                <input type="radio" name="Question3" value="5"> Strongly Agree<br><br>

                <p>Coffee or I'm going to die.</p>
                <input type="radio" name="Question4" value="1"> Strongly Disagree<br>
                <input type="radio" name="Question4" value="2"> Disagree<br>
                <input type="radio" name="Question4" value="3"> Neutral<br>
                <input type="radio" name="Question4" value="4"> Agree<br>
                <input type="radio" name="Question4" value="5"> Strongly Agree<br><br>

                <p>Boyfriends who share their large t-shirts and sweatshirts are a must.</p>
                <input type="radio" name="Question5" value="1"> Strongly Disagree<br>
                <input type="radio" name="Question5" value="2"> Disagree<br>
                <input type="radio" name="Question5" value="3"> Neutral<br>
                <input type="radio" name="Question5" value="4"> Agree<br>
                <input type="radio" name="Question5" value="5"> Strongly Agree<br><br>

                <p>Plastic straws...</p>
                <input type="radio" name="Question6" value="1"> Strongly Disagree<br>
                <input type="radio" name="Question6" value="2"> Disagree<br>
                <input type="radio" name="Question6" value="3"> Neutral<br>
                <input type="radio" name="Question6" value="4"> Agree<br>
                <input type="radio" name="Question6" value="5"> Strongly Agree<br><br>

                <p>Crop top and leggins.</p>
                <input type="radio" name="Question7" value="1"> Strongly Disagree<br>
                <input type="radio" name="Question7" value="2"> Disagree<br>
                <input type="radio" name="Question7" value="3"> Neutral<br>
                <input type="radio" name="Question7" value="4"> Agree<br>
                <input type="radio" name="Question7" value="5"> Strongly Agree<br><br>

                <p>Birkenstocks are fashionable.</p>
                <input type="radio" name="Question8" value="1"> Strongly Disagree<br>
                <input type="radio" name="Question8" value="2"> Disagree<br>
                <input type="radio" name="Question8" value="3"> Neutral<br>
                <input type="radio" name="Question8" value="4"> Agree<br>
                <input type="radio" name="Question8" value="5"> Strongly Agree<br><br>

                <p>Birkenstocks are more functional than fashionable.</p>
                <input type="radio" name="Question9" value="1"> Strongly Disagree<br>
                <input type="radio" name="Question9" value="2"> Disagree<br>
                <input type="radio" name="Question9" value="3"> Neutral<br>
                <input type="radio" name="Question9" value="4"> Agree<br>
                <input type="radio" name="Question9" value="5"> Strongly Agree<br><br>

                <p>Brother Ian.</p>
                <input type="radio" name="Question10" value="1"> Strongly Disagree<br>
                <input type="radio" name="Question10" value="2"> Disagree<br>
                <input type="radio" name="Question10" value="3"> Neutral<br>
                <input type="radio" name="Question10" value="4"> Agree<br>
                <input type="radio" name="Question10" value="5"> Strongly Agree<br><br>

                <button class="btn btn-primary" id="submit">Submit</button>
            </form>
        </div>
    </div>

    <div class="container">
        <div class="modal fade" id="newFriendMatchModal" tabindex="-1" role="dialog"
            aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h2 class="modal-title" id="exampleModalCenterTitle">New Friend Match</h2>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="modal-body">
                        <h3 id="newFriendMatch"></h3>
                        <img id="newFriendPhoto" src="#">
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script type="text/javascript">
        $("#createUser").on("submit", function (event) {

            event.preventDefault();
            console.log("clicked submit");

            var answers = document.forms[0];
            console.log(document.forms)
            var answersArr = [];

            for (var i = 0; i < answers.length; i++) {
                if (answers[i].checked) {
                    answersArr.push(answers[i].value);
                }
            }

            console.log(answersArr)

            var newFriend = {
                name: $("#name").val().trim(),
                photo: $("#photo").val().trim(),
                scores: answersArr
            };

            $.post(window.location.origin + "/api/friends", newFriend, function (data) {
                console.log(data.name)
                $("#newFriendMatch").text(data.name);
                $("#newFriendPhoto").attr("src", data.photo);
                $("#newFriendMatchModal").modal("toggle");
            })
        });
    </script>


</body>

</html>